"use strict";(self.webpackChunkfitness=self.webpackChunkfitness||[]).push([[708],{8708:(b,_,c)=>{c.r(_),c.d(_,{PackageModule:()=>I});var P=c(6895),g=c(433),M=c(5009),C=c(5808),s=c(805),e=c(8256),l=c(8953),f=c(5849),i=c(5593),d=c(1740),u=c(3608);let m=(()=>{class n{constructor(t,a){this.packageService=t,this.ref=a,this.newPackage={packageName:"",price:null,description:"",durationInMonths:null}}ngOnInit(){}ngOnDestroy(){this.createPackageSubscription&&this.createPackageSubscription.unsubscribe()}addNewPackage(){this.createPackageSubscription=this.packageService.createPackage(this.newPackage).subscribe({next:t=>{console.log(t),this.ref.close(this.newPackage)},error:t=>{console.log(t)},complete:()=>{console.log("task complete")}})}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(l.M),e.Y36(f.E7))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-package"]],decls:19,vars:4,consts:[[1,"card"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-inbox"],["pInputText","","pTooltip","Entrez le nom du package","name","packageName","placeholder","Nom de package",3,"ngModel","ngModelChange"],[1,"pi","pi-dollar"],["pInputNumber","","pTooltip","Saisissez le prix","name","price","placeholder","Prix",3,"ngModel","ngModelChange"],[1,"pi","pi-book"],["pInputText","","pTooltip","Entrez la description","name","description","placeholder","Description",3,"ngModel","ngModelChange"],[1,"pi","pi-stopwatch"],["pInputNumber","","pTooltip","Entrez la dur\xe9e en mois","name","durationInMonths","placeholder","Dur\xe9e en mois",3,"ngModel","ngModelChange"],["pButton","","type","button","label","Sauvegarder",3,"click"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"span",2),e._UZ(4,"i",3),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(r){return o.newPackage.packageName=r}),e.qZA()(),e.TgZ(6,"div",1)(7,"span",2),e._UZ(8,"i",5),e.qZA(),e.TgZ(9,"input",6),e.NdJ("ngModelChange",function(r){return o.newPackage.price=r}),e.qZA()(),e.TgZ(10,"div",1)(11,"span",2),e._UZ(12,"i",7),e.qZA(),e.TgZ(13,"input",8),e.NdJ("ngModelChange",function(r){return o.newPackage.description=r}),e.qZA()(),e.TgZ(14,"div",1)(15,"span",2),e._UZ(16,"i",9),e.qZA(),e.TgZ(17,"input",10),e.NdJ("ngModelChange",function(r){return o.newPackage.durationInMonths=r}),e.qZA()(),e.TgZ(18,"button",11),e.NdJ("click",function(){return o.addNewPackage()}),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("ngModel",o.newPackage.packageName),e.xp6(4),e.Q6J("ngModel",o.newPackage.price),e.xp6(4),e.Q6J("ngModel",o.newPackage.description),e.xp6(4),e.Q6J("ngModel",o.newPackage.durationInMonths))},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.On,g.F,i.Hq,d.o,u.u],styles:[".card[_ngcontent-%COMP%]{max-width:100%;margin:auto;padding:20px;box-shadow:0 0 10px #0000001a;background-color:#fff;height:100%;max-height:100%}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .p-inputgroup[_ngcontent-%COMP%]{margin-bottom:15px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .p-inputgroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:14px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .p-inputgroup[_ngcontent-%COMP%]   .p-inputgroup-addon[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:10px;border:1px solid #ccc;border-radius:5px;margin-right:5px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:1%;width:25%;background-color:#007bff;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})(),x=(()=>{class n{constructor(t,a,o,p,r){this.dialogConfig=t,this.packageService=a,this.ref=o,this.messageService=p,this.confirmationService=r}ngOnInit(){this.packageToUpdate=this.dialogConfig.data.package}ngOnDestroy(){this.updatePackageSubscription&&this.updatePackageSubscription.unsubscribe()}updatePackage(){this.updatePackageSubscription=this.packageService.updatePackage(this.packageToUpdate).subscribe({next:t=>{console.log(t)},error:t=>{console.log(t)},complete:()=>{console.log("task complete")}}),this.ref.close(this.packageToUpdate)}confirmUpdate(){this.confirmationService.confirm({message:"Are you sure that you want to proceed?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.messageService.add({severity:"info",summary:"Confirmed",detail:"You have accepted"}),this.updatePackage()},reject:t=>{switch(t){case s.wB.REJECT:this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"});break;case s.wB.CANCEL:this.messageService.add({severity:"warn",summary:"Cancelled",detail:"You have cancelled"})}}})}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(f.S),e.Y36(l.M),e.Y36(f.E7),e.Y36(s.ez),e.Y36(s.YP))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-update-package"]],decls:19,vars:4,consts:[[1,"card"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["pInputText","","pTooltip","Entrez le nom du package","name","packageName","placeholder","Nom de package",3,"ngModel","ngModelChange"],["pInputNumber","","pTooltip","Saisissez le prix","name","price","placeholder","Prix",3,"ngModel","ngModelChange"],[1,"pi","pi-map-marker"],["pInputText","","pTooltip","Entrez la description","name","description","placeholder","Description",3,"ngModel","ngModelChange"],[1,"pi","pi-home"],["pInputNumber","","pTooltip","Entrez la dur\xe9e en mois","name","durationInMonths","placeholder","dur\xe9e en mois",3,"ngModel","ngModelChange"],["pButton","","type","button","label","Modifier Package",3,"click"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"form")(2,"div",1)(3,"span",2),e._UZ(4,"i",3),e.qZA(),e.TgZ(5,"input",4),e.NdJ("ngModelChange",function(r){return o.packageToUpdate.packageName=r}),e.qZA()(),e.TgZ(6,"div",1)(7,"span",2),e._UZ(8,"i",3),e.qZA(),e.TgZ(9,"input",5),e.NdJ("ngModelChange",function(r){return o.packageToUpdate.price=r}),e.qZA()(),e.TgZ(10,"div",1)(11,"span",2),e._UZ(12,"i",6),e.qZA(),e.TgZ(13,"input",7),e.NdJ("ngModelChange",function(r){return o.packageToUpdate.description=r}),e.qZA()(),e.TgZ(14,"div",1)(15,"span",2),e._UZ(16,"i",8),e.qZA(),e.TgZ(17,"input",9),e.NdJ("ngModelChange",function(r){return o.packageToUpdate.durationInMonths=r}),e.qZA()(),e.TgZ(18,"button",10),e.NdJ("click",function(){return o.confirmUpdate()}),e.qZA()()()),2&a&&(e.xp6(5),e.Q6J("ngModel",o.packageToUpdate.packageName),e.xp6(4),e.Q6J("ngModel",o.packageToUpdate.price),e.xp6(4),e.Q6J("ngModel",o.packageToUpdate.description),e.xp6(4),e.Q6J("ngModel",o.packageToUpdate.durationInMonths))},dependencies:[g._Y,g.Fj,g.JJ,g.JL,g.On,g.F,i.Hq,d.o,u.u],styles:[".card[_ngcontent-%COMP%]{max-width:100%;height:100%;margin:auto;padding:20px;box-shadow:0 0 10px #0000001a;background-color:#fff;height:45rem}.card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{text-align:center;color:#333;margin-bottom:20px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .p-inputgroup[_ngcontent-%COMP%]{margin-bottom:15px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .p-inputgroup[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;box-sizing:border-box;padding:10px;border:1px solid #ccc;border-radius:5px;font-size:14px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .p-inputgroup[_ngcontent-%COMP%]   .p-inputgroup-addon[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:10px;border:1px solid #ccc;border-radius:5px;margin-right:5px}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:2%;width:25%;background-color:#007bff;color:#fff;border:none;padding:10px;border-radius:5px;cursor:pointer;font-size:16px;transition:background-color .3s}.card[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}return n})();var k=c(3009),O=c(2137),v=c(4044);function T(n,h){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"span")(2,"input",9),e.NdJ("input",function(o){e.CHM(t);const p=e.oxw(),r=e.MAs(2);return e.KtG(r.filterGlobal(p.applyFilterGlobal(o),"contains"))}),e.qZA()(),e.TgZ(3,"button",10),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(),p=e.MAs(2);return e.KtG(o.clear(p))}),e.qZA()()}}function Z(n,h){1&n&&(e.TgZ(0,"tr")(1,"th",11)(2,"div",12),e._uU(3," Nom de forfait "),e._UZ(4,"p-columnFilter",13),e.qZA()(),e.TgZ(5,"th",14)(6,"div",12),e._uU(7," Prix "),e._UZ(8,"p-columnFilter",15),e.qZA()(),e.TgZ(9,"th",16)(10,"div",12),e._uU(11," Description "),e._UZ(12,"p-columnFilter",17),e.qZA()(),e.TgZ(13,"th",14)(14,"div",12),e._uU(15," Dur\xe9e en mois "),e._UZ(16,"p-columnFilter",18),e.qZA()()())}function y(n,h){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"button",19),e.NdJ("click",function(){const p=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.updatePackage(p))}),e.qZA()(),e.TgZ(11,"td")(12,"button",20),e.NdJ("click",function(){const p=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.confirmDelete(p.id))}),e.qZA()()()}if(2&n){const t=h.$implicit;e.xp6(2),e.hij(" ",t.packageName," "),e.xp6(2),e.hij(" ",t.price," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",t.durationInMonths," ")}}function w(n,h){1&n&&(e.TgZ(0,"tr")(1,"td",21),e._uU(2,"No packages found."),e.qZA()())}function U(n,h){if(1&n){const t=e.EpF();e.TgZ(0,"p-button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.show())}),e.qZA()}}const S=function(){return[5,10,20]},A=function(){return["packageName","durationInMonths"]},N=function(){return{"min-width":"80rem"}},E=function(){return{width:"50vw"}},J=[{path:"",component:(()=>{class n{constructor(t,a,o,p){this.packageService=t,this.dialogService=a,this.messageService=o,this.confirmationService=p,this.loading=!0}ngOnInit(){this.packageService.loadPackages(),this.packagesSubscription=this.packageService.packages$.subscribe(t=>{this.packages=t,this.loading=!1})}ngOnDestroy(){this.deletePackageSubscription&&this.deletePackageSubscription.unsubscribe(),this.packagesSubscription&&this.packagesSubscription.unsubscribe()}clear(t){t.clear()}applyFilterGlobal(t){return t.target.value}show(){this.ref=this.dialogService.open(m,{header:"Cr\xe9er un forfait",width:"70vw",height:"50vw",modal:!0,contentStyle:{overflow:"auto"},maximizable:!0})}updatePackage(t){this.ref=this.dialogService.open(x,{data:{package:t},header:" Modifier un forfait",width:"70vw",height:"50vw",modal:!0,contentStyle:{overflow:"auto"},maximizable:!0})}deletePackage(t){this.deletePackageSubscription=this.packageService.deletePackage(t).subscribe({next:a=>{console.log(a)},error:a=>{console.log(a)},complete:()=>{console.log("task complete")}})}confirmDelete(t){this.confirmationService.confirm({message:"Voulez-vous supprimer cet enregistrement ?",header:"Confirmation de suppression",icon:"pi pi-info-circle",accept:()=>{this.deletePackage(t),this.messageService.add({severity:"info",summary:"Confirm\xe9",detail:"Enregistrement supprim\xe9"})},reject:a=>{switch(a){case s.wB.REJECT:this.messageService.add({severity:"error",summary:"Rejet\xe9e",detail:"Vous avez rejet\xe9"});break;case s.wB.CANCEL:this.messageService.add({severity:"warn",summary:"Annul\xe9",detail:"Vous avez annul\xe9"})}}})}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(l.M),e.Y36(f.xA),e.Y36(s.ez),e.Y36(s.YP))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-package"]],decls:10,vars:15,consts:[[1,"card"],["dataKey","id","currentPageReportTemplate","Affichage du {first} au {last} des {totalRecords} entr\xe9es","columnResizeMode","expand","styleClass","p-datatable-gridlines",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","globalFilterFields","resizableColumns","tableStyle"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["pTemplate","paginatorleft"],[1,"flex"],["pInputText","","type","text","placeholder","Search keyword",3,"input"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[2,"min-width","30rem"],[1,"flex","align-items-center"],["type","text","field","packageName","display","menu"],[2,"min-width","15rem"],["type","numeric","field","price","display","menu"],[2,"min-width","25rem"],["type","text","field","description","display","menu"],["type","numeric","field","durationInMonths","display","menu"],["pButton","","type","button","icon","pi pi-pencil",3,"click"],["pButton","","type","button","icon","pi pi-trash",3,"click"],["colspan","7"],["type","button","icon","pi pi-plus","styleClass","p-button-text",3,"click"]],template:function(a,o){1&a&&(e.TgZ(0,"div",0)(1,"p-table",1,2),e.YNc(3,T,4,0,"ng-template",3),e.YNc(4,Z,17,0,"ng-template",4),e.YNc(5,y,13,4,"ng-template",5),e.YNc(6,w,3,0,"ng-template",6),e.YNc(7,U,1,0,"ng-template",7),e.qZA()(),e._UZ(8,"p-toast")(9,"p-confirmDialog")),2&a&&(e.xp6(1),e.Q6J("value",o.packages)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(11,S))("loading",o.loading)("paginator",!0)("globalFilterFields",e.DdM(12,A))("resizableColumns",!0)("tableStyle",e.DdM(13,N)),e.xp6(8),e.Akn(e.DdM(14,E)))},dependencies:[k.iA,s.jx,k.xl,i.Hq,i.zx,d.o,O.Q,v.FN],styles:[".flex[_ngcontent-%COMP%]{display:flex;align-items:center}.flex[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:10px}.flex[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:12px;font-size:16px;border:1px solid #ddd;border-radius:5px;width:250px;box-shadow:0 0 5px #0000001a}.flex[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:10px}.card[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ddd;border-radius:8px;box-shadow:0 0 10px #0000001a;background-color:#fff}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]{width:100%;margin-top:20px}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-datatable-header[_ngcontent-%COMP%]{background-color:#f2f2f2;border-bottom:1px solid #ddd}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-datatable-header[_ngcontent-%COMP%]   .p-column-title[_ngcontent-%COMP%]{font-weight:700}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-datatable-header[_ngcontent-%COMP%]   .p-paginator[_ngcontent-%COMP%]{margin-top:10px}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-datatable-caption[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-datatable-caption[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-datatable-caption[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]{position:relative}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-datatable-caption[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;right:10px;top:50%;transform:translateY(-50%)}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   .p-datatable-caption[_ngcontent-%COMP%]   .p-input-icon-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-right:30px}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;text-align:left;border:1px solid #ccc}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}.card[_ngcontent-%COMP%]   .p-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f9f9f9}"]})}return n})()}];let z=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[P.ez,C.Bz.forChild(J)]})}return n})(),I=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[P.ez,g.u5,M.g,z]})}return n})()},8953:(b,_,c)=>{c.d(_,{M:()=>e});var P=c(1135),g=c(8505),M=c(4854),C=c(8256),s=c(529);let e=(()=>{class l{constructor(i){this.http=i,this.baseURL=`${M._}/Package`,this.packagesSubject=new P.X([]),this.packages$=this.packagesSubject.asObservable()}loadPackages(){this.http.get(`${this.baseURL}`).subscribe({next:i=>{console.log(i),this.packagesSubject.next(i)},error:i=>{console.log(i)},complete:()=>{console.log("task complete")}})}updatePackages(i){this.packagesSubject.next(i)}createPackage(i){return this.http.post(`${this.baseURL}`,i).pipe((0,g.b)(d=>{const m=[...this.packagesSubject.value,d];this.updatePackages(m)}))}updatePackage(i){return this.http.put(`${this.baseURL}/${i.id}`,i)}deletePackage(i){return this.http.delete(`${this.baseURL}/${i}`).pipe((0,g.b)(()=>{const u=this.packagesSubject.value.filter(m=>m.id!==i);this.updatePackages(u)}))}getPackage(i){return this.http.get(`${this.baseURL}/${i}`)}getPackages(){return this.http.get(`${this.baseURL}`)}static#e=this.\u0275fac=function(d){return new(d||l)(C.LFG(s.eN))};static#t=this.\u0275prov=C.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()}}]);